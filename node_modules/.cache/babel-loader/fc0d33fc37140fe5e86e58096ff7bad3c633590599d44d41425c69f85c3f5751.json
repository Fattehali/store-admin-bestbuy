{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-384fdfbf\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0,\n  class: \"order-detail\"\n};\nconst _hoisted_2 = {\n  class: \"action-button\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"order-header\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Order ID:\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Customer ID:\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", null, \"Status:\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"order-items\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Product ID\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Product Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Quantity\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Price\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Total\")])], -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, null, -1 /* HOISTED */));\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, null, -1 /* HOISTED */));\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, null, -1 /* HOISTED */));\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, null, -1 /* HOISTED */));\nconst _hoisted_14 = {\n  key: 1,\n  class: \"order-detail\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"Opps! That order was not found...\", -1 /* HOISTED */));\nconst _hoisted_16 = [_hoisted_15];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return $options.orderExists ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.completeOrder && $options.completeOrder(...args)),\n    class: \"button\"\n  }, \"Complete Order\")]), _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"p\", null, [_hoisted_5, _createTextVNode(\" \" + _toDisplayString($data.order.orderId), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_6, _createTextVNode(\" \" + _toDisplayString($data.order.customerId), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_hoisted_7, _createTextVNode(\" \" + _toDisplayString($data.order.status), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"table\", null, [_hoisted_9, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.order.items, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.productId\n    }, [_createElementVNode(\"td\", null, [_createVNode(_component_router_link, {\n      to: `/product/${item.productId}`\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(item.productId), 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]), _createElementVNode(\"td\", null, _toDisplayString($options.productLookup(item.productId)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.quantity), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.price.toFixed(2)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString((item.quantity * item.price).toFixed(2)), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"tfoot\", null, [_createElementVNode(\"tr\", null, [_hoisted_10, _hoisted_11, _hoisted_12, _hoisted_13, _createElementVNode(\"td\", null, [_createElementVNode(\"b\", null, _toDisplayString($options.orderTotal()), 1 /* TEXT */)])])])])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [..._hoisted_16]));\n}","map":{"version":3,"names":["key","class","_createElementVNode","_hoisted_15","$options","orderExists","_createElementBlock","_hoisted_1","_hoisted_2","onClick","_cache","args","completeOrder","_hoisted_3","_hoisted_4","_hoisted_5","_createTextVNode","_toDisplayString","$data","order","orderId","_hoisted_6","customerId","_hoisted_7","status","_hoisted_8","_hoisted_9","_Fragment","_renderList","items","item","productId","_createVNode","_component_router_link","to","default","_withCtx","_","productLookup","quantity","price","toFixed","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","orderTotal","_hoisted_14","_hoisted_16"],"sources":["/Users/fattehali/Desktop/BestBuy/store-admin-L8/src/components/OrderDetail.vue"],"sourcesContent":["<template>\n  <div class=\"order-detail\" v-if=\"orderExists\">\n    <div class=\"action-button\">\n      <button @click=\"completeOrder\" class=\"button\">Complete Order</button>\n    </div>\n    <br/>\n    <div class=\"order-header\">\n      <p><b>Order ID:</b> {{ order.orderId }}</p>\n      <p><b>Customer ID:</b> {{ order.customerId }}</p>\n      <p><b>Status:</b> {{ order.status }}</p>\n    </div>\n    <div class=\"order-items\">\n      <table>\n        <thead>\n          <tr>\n            <th>Product ID</th>\n            <th>Product Name</th>\n            <th>Quantity</th>\n            <th>Price</th>\n            <th>Total</th>\n          </tr>\n        </thead>\n        <tr v-for=\"item in order.items\" :key=\"item.productId\">\n          <td><router-link :to=\"`/product/${item.productId}`\">{{ item.productId }}</router-link></td>\n          <td>{{ productLookup(item.productId) }}</td>\n          <td>{{ item.quantity }}</td>\n          <td>{{ item.price.toFixed(2) }}</td>\n          <td>{{ (item.quantity * item.price).toFixed(2) }}</td>\n        </tr>\n        <tfoot>\n          <tr>\n            <td></td>\n            <td></td>\n            <td></td>\n            <td></td>\n            <td><b>{{ orderTotal() }}</b></td>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n  </div>\n  <div class=\"order-detail\" v-else>\n    <h3>Opps! That order was not found...</h3>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'OrderDetail',\n    props: ['orders','products'],\n    emits: ['completeOrder'],\n    data() {\n      return {\n        order: null\n      }\n    },\n    computed: {\n      orderExists() {\n        return !!this.order\n      }\n    },\n    mounted() {\n      this.getOrder()\n    },\n    methods: {\n      getOrder() {\n        // get the order from the orders prop\n        // if not found in the orders prop, fetch from the server\n        this.order = this.orders.find(order => order.orderId === this.$route.params.id);  \n        \n        if (!this.order) {          \n          // get the order from the makeline service\n          fetch(`/makeline/order/${this.$route.params.id}`)\n            .then(response => {\n              if (!response.ok) {\n                throw new Error('Network response was not ok');\n              }\n              // check if the response is empty\n              if (response.status === 204) {\n                return null;\n              }\n              return response.json();\n            })\n            .then(data => {\n              if (data) {\n                this.order = data;\n              } else {\n                console.log('No orders from server');\n              }\n            })\n            .catch(error => console.error(error));\n        }\n        \n        return this.order;\n      },\n      completeOrder() {\n        this.$emit('completeOrder', this.order.orderId)\n      },\n      productLookup(id) {\n        return this.products.find(product => product.id === id).name;\n      },\n      orderTotal() {\n        let total = 0;\n        this.order.items.forEach(item => {\n          total += item.price * item.quantity;\n        });\n        return total.toFixed(2);\n      }\n    }\n  }\n</script>\n\n<style scoped>\na {\n  color: #0000FF;\n  text-decoration: underline;\n}\n\n.order-detail {\n  text-align: left;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}